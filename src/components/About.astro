---
import FlipImg from "./FlipImg.astro";
import { Icon } from "astro-icon/components";
import aboutData from "@/data/about.json"
---

<div>
  <header>
    <FlipImg />
    <div>
      <p>Diseñador industrial por Desicion</p>
      <p>Artista por Vocacion</p>
      <p>Programador por Curiosidad</p>
      <p>Ser Humano por defecto</p>
    </div>
  </header>
  <div>
    <div>
      <h3>
        <span>CaperA</span>
        <div class="scene">
          <div class="flip-wrapper">
            {aboutData.map(({nickname, face}) => (
              <span class={`face ${face}__face`}>{nickname}</span>
            ))}
        </div>
      </div>
      </h3>
      <div class="flip-wrapper">
        <ul>
          <li>
            <a href="/">
              <Icon 
              name={'tabler:brand-linkedin'}
              aria-label={'LinkedIn'}
              />
            </a>
          </li>
          <li>
            <a href="/">
              <Icon 
              name={'tabler:brand-github'}
              aria-label={'Github'}
              />
            </a>
          </li>
          <li>
            <a href="/">
              <Icon 
              name={'tabler:brand-instagram'}
              aria-label={'Instagram'}
              />
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="flip-wrapper">
      <div>
        <p>De Bogotá Colombia, empece a estudiar programacion web en platzi por curiosidad para terminar sumergido de cabeza en el mundo del desarrollo web, llevo mas de dos años aprendiendo y aunque no empece a una edad temprana he crecido y aprendido mucho en este tiempo, ademas, siento que la programacion ha despertado en mi la necesidad de estar siempre aprendiendo algo nuevo, lo que me ha llevado a ver la cantidad de posibilidades que ofrece la programacion.</p>
        <p>He participado en proyectos grupales cortos que buscan proporcionar experiencias de trabajo en equipos interdisciplinares a personas que esten empezando en el desarrollo web. Obtuve mucha experiencia por participar en estas simulaciones y aprendi a ver el desarrollo web de manera mas sistemica y no solo en frontend y backend.</p>
        <p>Mis aspiraciones como desarrollador web son llegar a tener la suficiente experiencia y conocimiento para transformar ideas en productos de manera agil y eficiente. Ademas me gustaria mucho poder compartir mis aprendizajes con los demas y ayudar a crecer a otros de la misma manera en que que sucedio conmigo.</p>
      </div>
    </div>
  </div>
</div>

<style>

@media screen and (width >= 768px) {
  header { 
    display: flex;
    justify-content: center;
    align-items: center;
    gap: clamp(20px, 3vw, 60px);
  }

  h3 {
    display: flex;

    .scene {
      perspective:  600px;
      width: 4ch;
      height: 1lh;

      .flip-wrapper {
        transition: transform 1s;
        transform: translateZ(-.5lh);
        position: relative;
        transform-style: preserve-3d;
        width: 100%;
        height: 100%;
      }
      .face{
        position: absolute;
        transition: opacity 0.7s;
      }
      .front__face {
        transform: translateZ(.5lh);
        opacity: 1;
      }
      .back__face {
        opacity: 0;
        transform:
        rotateX(90deg)
        translateZ(.5lh);
      }
      .flip-wrapper.is-flipped {
        transform: rotateX(-90deg);

        .front__face {
          opacity: 0;
        }
        .back__face {
          opacity: 1;
        }
      }
    }
  }
}
</style>

<script>
  const wrapper = document.querySelector('.flipImg__wrapper')
  const flipWrappers = document.querySelectorAll('.flip-wrapper')
  wrapper?.addEventListener('click', () => {
    wrapper.classList.toggle('is-flipped')
    flipWrappers.forEach(wrapper => {
      wrapper.classList.toggle('is-flipped')
    })
  })
</script>